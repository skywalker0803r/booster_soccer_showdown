/content/booster_soccer_showdown# git pull
remote: Enumerating objects: 12, done.
remote: Counting objects: 100% (12/12), done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 7 (delta 4), reused 7 (delta 4), pack-reused 0 (from 0)
Unpacking objects: 100% (7/7), 4.34 KiB | 1.45 MiB/s, done.
From https://github.com/skywalker0803r/booster_soccer_showdown
   112d2a5..f01fc29  main       -> origin/main
Updating 112d2a5..f01fc29
Fast-forward
 log.txt                                    | 163 ++++++++++++++++++++++++++++++++++++-----------------------------------------------
 training_scripts/debug_sai_rewards.py      | 109 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 training_scripts/episode_reward_wrapper.py |  25 +++++++++----
 training_scripts/quick_fix_test.py         |   7 ++++
 4 files changed, 205 insertions(+), 99 deletions(-)
 create mode 100644 training_scripts/debug_sai_rewards.py
/content/booster_soccer_showdown# python training_scripts/quick_fix_test.py 
ğŸš€  Quick Test: Episode-Level Reward Fixing
============================================================
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                                                  â”‚
â”‚                                                                                                  â”‚
â”‚                                   ########      ###     ###########                              â”‚
â”‚                                 #+#    #+#   #+# #+#       #+#                                   â”‚
â”‚                                +#+         +#+   +#+      +#+                                    â”‚
â”‚                               +########+ +#########+     +#+                                     â”‚
â”‚                                     +#+ +#+     +#+     +#+                                      â”‚
â”‚                             #+#    #+# #+#     #+#     #+#                                       â”‚
â”‚                             ########  ###     ### ###########                                    â”‚
â”‚                                                                                                  â”‚
â”‚                                                                                         v0.1.35  â”‚
â”‚                                                                              Â© 2025 ArenaX Labs  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

âœ“ Successfully imported sai-mujoco package.
â•­â”€ Competition Tasks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                                                  â”‚
â”‚       Task    Environment                                      Score Weight           Episodes   â”‚
â”‚          0    Penalty Kick with Goalie (Lower T1)                       1.0                100   â”‚
â”‚               (LowerT1GoaliePenaltyKick-v0)                                                      â”‚
â”‚          1    Penalty Kick with Obstacles (Lower T1)                    1.0                100   â”‚
â”‚               (LowerT1ObstaclePenaltyKick-v0)                                                    â”‚
â”‚          2    Kick to Target (Lower T1)                                 1.0                100   â”‚
â”‚               (LowerT1KickToTarget-v0)                                                           â”‚
â”‚                                                                                                  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


ğŸ¯  Episode 1
------------------------------
Episode 1 Results:
   Steps: 200
   Original (estimated): 0.000
   Fixed: 0.000
   Improvement: +0.000

ğŸ¯  Episode 2
------------------------------
Episode 2 Results:
   Steps: 200
   Original (estimated): 0.000
   Fixed: 0.000
   Improvement: +0.000

ğŸ¯  Episode 3
------------------------------
Episode 3 Results:
   Steps: 200
   Original (estimated): 0.000
   Fixed: 0.000
   Improvement: +0.000

ğŸ¯  Episode 4
------------------------------
Episode 4 Results:
   Steps: 200
   Original (estimated): 0.000
   Fixed: 0.000
   Improvement: +0.000

ğŸ¯  Episode 5
------------------------------
Episode 5 Results:
   Steps: 200
   Original (estimated): 0.000
   Fixed: 0.000
   Improvement: +0.000

============================================================
ğŸ†  SUMMARY:
   Total original: 0.000
   Total fixed: 0.000
   Total improvement: +0.000
   Average episode length: 200.0
   âŒ  FAILED: No improvement, check logic

ğŸ˜  Need to debug the episode reward fixing logic
/content/booster_soccer_showdown# python training_scripts/debug_sai_rewards.py 
ğŸ”  Deep SAI Reward System Analysis
============================================================
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                                                  â”‚
â”‚                                                                                                  â”‚
â”‚                                   ########      ###     ###########                              â”‚
â”‚                                 #+#    #+#   #+# #+#       #+#                                   â”‚
â”‚                                +#+         +#+   +#+      +#+                                    â”‚
â”‚                               +########+ +#########+     +#+                                     â”‚
â”‚                                     +#+ +#+     +#+     +#+                                      â”‚
â”‚                             #+#    #+# #+#     #+#     #+#                                       â”‚
â”‚                             ########  ###     ### ###########                                    â”‚
â”‚                                                                                                  â”‚
â”‚                                                                                         v0.1.35  â”‚
â”‚                                                                              Â© 2025 ArenaX Labs  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

âœ“ Successfully imported sai-mujoco package.
â•­â”€ Competition Tasks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                                                  â”‚
â”‚       Task    Environment                                      Score Weight           Episodes   â”‚
â”‚          0    Penalty Kick with Goalie (Lower T1)                       1.0                100   â”‚
â”‚               (LowerT1GoaliePenaltyKick-v0)                                                      â”‚
â”‚          1    Penalty Kick with Obstacles (Lower T1)                    1.0                100   â”‚
â”‚               (LowerT1ObstaclePenaltyKick-v0)                                                    â”‚
â”‚          2    Kick to Target (Lower T1)                                 1.0                100   â”‚
â”‚               (LowerT1KickToTarget-v0)                                                           â”‚
â”‚                                                                                                  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ğŸ“Š Environment Info:
   Action space: Box([-45. -45. -30. -65. -24. -15. -45. -45. -30. -65. -24. -15.], [45. 45. 30. 65. 24. 15. 45. 45. 30. 65. 24. 15.], (12,), float32)
   Observation space: Box(-inf, inf, (45,), float32)

ğŸ¯ Testing 50 step episode:
----------------------------------------
   Step   0: reward=   0.000, term=False, trunc=False
   Step   1: reward=   0.000, term=False, trunc=False
   Step   2: reward=   0.000, term=False, trunc=False
   Step   3: reward=   0.000, term=False, trunc=False
   Step   4: reward=   0.000, term=False, trunc=False
   Step  45: reward=   0.000, term=False, trunc=False
   Step  46: reward=   0.000, term=False, trunc=False
   Step  47: reward=   0.000, term=False, trunc=False
   Step  48: reward=   0.000, term=False, trunc=False
   Step  49: reward=   0.000, term=False, trunc=False
   ğŸ“ˆ  Results:
      Total steps: 50
      Total reward: 0.000
      Average reward/step: 0.000000
      Non-zero rewards: 0
      Reward range: 0.000 to 0.000
      âœ…  No significant penalties detected

ğŸ¯ Testing 100 step episode:
----------------------------------------
   Step   0: reward=   0.000, term=False, trunc=False
   Step   1: reward=   0.000, term=False, trunc=False
   Step   2: reward=   0.000, term=False, trunc=False
   Step   3: reward=   0.000, term=False, trunc=False
   Step   4: reward=   0.000, term=False, trunc=False
   Step  95: reward=   0.000, term=False, trunc=False
   Step  96: reward=   0.000, term=False, trunc=False
   Step  97: reward=   0.000, term=False, trunc=False
   Step  98: reward=   0.000, term=False, trunc=False
   Step  99: reward=   0.000, term=False, trunc=False
   ğŸ“ˆ  Results:
      Total steps: 100
      Total reward: 0.000
      Average reward/step: 0.000000
      Non-zero rewards: 0
      Reward range: 0.000 to 0.000
      âœ…  No significant penalties detected

ğŸ¯  Testing 200 step episode:
----------------------------------------
   Step   0: reward=   0.000, term=False, trunc=False
   Step   1: reward=   0.000, term=False, trunc=False
   Step   2: reward=   0.000, term=False, trunc=False
   Step   3: reward=   0.000, term=False, trunc=False
   Step   4: reward=   0.000, term=False, trunc=False
   Step 195: reward=   0.000, term=False, trunc=False
   Step 196: reward=   0.000, term=False, trunc=False
   Step 197: reward=   0.000, term=False, trunc=False
   Step 198: reward=   0.000, term=False, trunc=False
   Step 199: reward=   0.000, term=False, trunc=False
   ğŸ“ˆ  Results:
      Total steps: 200
      Total reward: 0.000
      Average reward/step: 0.000000
      Non-zero rewards: 0
      Reward range: 0.000 to 0.000
      âœ…  No significant penalties detected

ğŸ¯  Testing 400 step episode:
----------------------------------------
   Step   0: reward=   0.000, term=False, trunc=False
   Step   1: reward=   0.000, term=False, trunc=False
   Step   2: reward=   0.000, term=False, trunc=False
   Step   3: reward=   0.000, term=False, trunc=False
   Step   4: reward=   0.000, term=False, trunc=False
   Step 277: reward=  -2.488, term=True, trunc=False
   â†’ Episode ended early at step 277
     Terminated: True, Truncated: False
   ğŸ“ˆ  Results:
      Total steps: 278
      Total reward: -2.488
      Average reward/step: -0.008951
      Non-zero rewards: 1
      Reward range: -2.488 to 0.000
      ğŸ¤”  Unexpected reward pattern

ğŸ¯  Testing Environment Termination Conditions:
--------------------------------------------------
Trying extreme actions to trigger termination...
   ğŸ˜  No termination triggered even with extreme actions

ğŸ’¡  Key Findings:
1. Check if rewards are only given at episode end
2. Look for reward accumulation patterns
3. Understand termination conditions
4. Compare training vs evaluation modes
/content/booster_soccer_showdown# 