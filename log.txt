ğŸ’» ä½¿ç”¨èªªæ˜
1. æª”æ¡ˆæº–å‚™
è«‹ç¢ºä¿æ‚¨çš„å°ˆæ¡ˆè³‡æ–™å¤¾çµæ§‹å¦‚ä¸‹ï¼Œä¸¦å°‡æ‚¨è‡ªå·±çš„ hrl_wrapper.py å’Œ log_callback.py æ”¾åœ¨æ ¹ç›®éŒ„ï¼š

/Your_Project_Folder
â”œâ”€â”€ ppo_with_pbrs.py  (ä¸»è¨“ç·´è…³æœ¬)
â”œâ”€â”€ pbrs_wrapper.py   (PBRS åŒ…è£å™¨å’Œé‚è¼¯)
â”œâ”€â”€ log_callback.py   (æ—¥èªŒå›èª¿å‡½æ•¸)
â”œâ”€â”€ hrl_wrapper.py    (å±¤ç´šå¼å¼·åŒ–å­¸ç¿’ (HRL) åŒ…è£å™¨)
â””â”€â”€ low_level_models/ (è¨“ç·´ Move/Kick æ¨¡å‹çš„è¼¸å‡ºç›®éŒ„)
â””â”€â”€ hrl_models/       (è¨“ç·´ HRL æ¨¡å‹çš„è¼¸å‡ºç›®éŒ„)
â””â”€â”€ runs/             (TensorBoard æ—¥èªŒè¼¸å‡ºç›®éŒ„)
2. ç’°å¢ƒæº–å‚™
å®‰è£å¥—ä»¶:

Bash

pip install stable-baselines3 gymnasium numpy torch sai-rl
æ›¿æ› API Key: åœ¨ ppo_with_pbrs.py æª”æ¡ˆä¸­ï¼Œæ‰¾åˆ°ä»¥ä¸‹è¡Œä¸¦å°‡ "YOUR_SAI_API_KEY" æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›é‡‘é‘°ï¼š

Python

sai = SAIClient(comp_id="booster-soccer-showdown", api_key="YOUR_SAI_API_KEY")
3. åŸ·è¡Œè¨“ç·´è…³æœ¬
æ‚¨å¯ä»¥ä½¿ç”¨ --stage åƒæ•¸ä¾†æŒ‡å®šè¦è¨“ç·´çš„éšæ®µã€‚

A. è¨“ç·´ Move ç­–ç•¥ (ä½éš)
é€™æ˜¯ä½éšæŠ€èƒ½çš„ç¬¬ä¸€æ­¥ï¼Œæœƒä½¿ç”¨ PBRS çå‹µã€‚

Bash

python ppo_with_pbrs.py --stage move
# æˆ–ç¹¼çºŒè¨“ç·´
# python ppo_with_pbrs.py --stage move --mode continue
B. è¨“ç·´ Kick ç­–ç•¥ (ä½éš)
é€™æ˜¯ä½éšæŠ€èƒ½çš„ç¬¬äºŒæ­¥ï¼Œä¹Ÿæœƒä½¿ç”¨ PBRS çå‹µã€‚

Bash

python ppo_with_pbrs.py --stage kick
C. è¨“ç·´ HRL ç­–ç•¥ (é«˜éš)
è«‹æ³¨æ„ï¼šåŸ·è¡Œæ­¤æ­¥é©Ÿå‰ï¼Œæ‚¨å¿…é ˆå…ˆå®Œæˆ Move å’Œ Kick ç­–ç•¥çš„è¨“ç·´ï¼Œä¸¦ç¢ºä¿å®ƒå€‘çš„æ¨¡å‹æª”æ¡ˆï¼ˆmove_policy_final.zip å’Œ kick_policy_final.zipï¼‰å­˜åœ¨æ–¼ low_level_models ç›®éŒ„ä¸­ï¼Œå› ç‚º hrl_wrapper.py éœ€è¦è¼‰å…¥å®ƒå€‘ã€‚

Bash

python ppo_with_pbrs.py --stage hrl
4. ç›£æ§è¨“ç·´é€²åº¦ (TensorBoard)
åœ¨è¨“ç·´è…³æœ¬åŸ·è¡Œæ™‚ï¼Œé–‹å•Ÿå¦ä¸€å€‹çµ‚ç«¯æ©Ÿè¦–çª—ï¼Œä¸¦åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

Bash

tensorboard --logdir=runs
ç„¶å¾Œï¼Œåœ¨æ‚¨çš„ç¶²é ç€è¦½å™¨ä¸­æ‰“é–‹ TensorBoard æç¤ºçš„ç¶²å€ï¼ˆé€šå¸¸æ˜¯ http://localhost:6006/ï¼‰ï¼Œå³å¯å¯¦æ™‚çœ‹åˆ°å¹³æ»‘å¾Œçš„å¹³å‡å›å ± (rollout/ep_reward_mean_smooth)ã€‚